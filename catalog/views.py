from django.shortcuts import render, get_object_or_404


def collection_view(request):
    """Страница новой коллекции"""
    return render(request, 'catalog/collection.html')


def product_detail_view(request, product_id):
    """Детальная страница товара"""
    
    # Данные товаров (позже можно заменить на базу данных)
    products = {
        1: {
            'id': 1,
            'name': 'Étoile',
            'category': 'Кольцо',
            'image_name': 'etoile',  # ← Добавлено
            'tagline': 'Где вечность встречается с элегантностью',
            'price': 385000,
            'main_description': 'Кольцо Étoile — это симфония света и совершенства, воплощенная в платине высшей пробы. Каждый бриллиант, словно капля застывшего звездного света, отобран с безупречной точностью, чтобы создать украшение, достойное стать семейной реликвией.',
            'story': 'Вдохновленное ночным небом над Альпами, это кольцо рассказывает историю о вечной красоте и неподвластном времени совершенстве. Мастера JEWEllUX провели более 180 часов, создавая эту миниатюрную вселенную на вашей руке.',
            'craftsmanship': 'Центральный бриллиант огранки «Круг» весом 0.85 карата окружен короной из 24 меньших камней, расположенных в технике pavé. Каждый камень закреплен вручную методом, который передается в нашей мастерской из поколения в поколение.',
            'materials': [
                {'name': 'Металл', 'value': 'Платина 950 пробы'},
                {'name': 'Центральный камень', 'value': 'Бриллиант 0.85 ct, цвет D, чистота VVS1'},
                {'name': 'Дополнительные камни', 'value': '24 бриллианта, общий вес 0.35 ct'},
                {'name': 'Огранка', 'value': 'Круглая бриллиантовая, 57 граней'},
                {'name': 'Сертификат', 'value': 'GIA (Gemological Institute of America)'},
            ],
            'specifications': [
                {'name': 'Размеры кольца', 'value': '15, 16, 17, 18, 19 (под заказ любой размер)'},
                {'name': 'Ширина шинки', 'value': '2.5 мм'},
                {'name': 'Вес изделия', 'value': 'около 4.2 г'},
                {'name': 'Время изготовления', 'value': '180+ часов ручной работы'},
                {'name': 'Гравировка', 'value': 'Индивидуальная гравировка включена'},
            ],
            'care': [
                'Храните отдельно от других украшений в мягком футляре',
                'Избегайте контакта с химическими веществами и парфюмерией',
                'Рекомендуется профессиональная чистка раз в 6 месяцев',
                'Пожизненная гарантия на все дефекты изготовления',
            ],
        },
        2: {
            'id': 2,
            'name': 'Aurora',
            'category': 'Серьги',
            'image_name': 'aurora',  # ← Добавлено
            'tagline': 'Танец изумрудного пламени',
            'price': 520000,
            'main_description': 'Серьги Aurora — это воплощение царственной роскоши и природного великолепия. Изумруды из колумбийских рудников Muzo, известные своей насыщенной зеленой глубиной, окружены бриллиантовым сиянием в оправе из белого золота.',
            'story': 'Названные в честь богини утренней зари, эти серьги излучают магическое свечение, меняющееся при каждом движении. Дизайн вдохновлен северным сиянием — природным чудом, которое завораживает своей красотой и недостижимостью.',
            'craftsmanship': 'Изумруды подбирались в течение 8 месяцев для достижения идеального цветового соответствия. Каждый камень прошел через руки трех геммологов и получил высшую оценку за чистоту и насыщенность цвета.',
            'materials': [
                {'name': 'Металл', 'value': 'Белое золото 750 пробы'},
                {'name': 'Основные камни', 'value': 'Изумруды Колумбии 3.2 ct (пара)'},
                {'name': 'Обрамление', 'value': '48 бриллиантов, общий вес 1.1 ct'},
                {'name': 'Происхождение изумрудов', 'value': 'Рудник Muzo, Колумбия'},
                {'name': 'Сертификат', 'value': 'GRS (Gem Research Swisslab)'},
            ],
            'specifications': [
                {'name': 'Длина серьги', 'value': '28 мм'},
                {'name': 'Ширина', 'value': '12 мм'},
                {'name': 'Вес пары', 'value': 'около 6.8 г'},
                {'name': 'Застежка', 'value': 'Английский замок с предохранителем'},
                {'name': 'Время изготовления', 'value': '220+ часов'},
            ],
            'care': [
                'Изумруды чувствительны к ударам — обращайтесь бережно',
                'Чистка только профессиональными средствами для изумрудов',
                'Не подвергайте ультразвуковой чистке',
                'Бесплатная проверка закрепки камней каждые 12 месяцев',
            ],
        },
        3: {
            'id': 3,
            'name': 'Céleste',
            'category': 'Колье',
            'image_name': 'celeste',  # ← Добавлено
            'tagline': 'Небесная симфония сапфиров',
            'price': 1250000,
            'main_description': 'Колье Céleste — это венец коллекции Lumière, созданное в единственном экземпляре. Центральный кашмирский сапфир весом 15 карат цвета «королевский синий» обрамлен 127 бриллиантами огранки «маркиз», создающими эффект небесного созвездия.',
            'story': 'Это колье родилось из мечты о создании украшения, которое могло бы стать коронным произведением мастера. Более года ушло на поиски идеального центрального камня — сапфира с редчайшим васильковым оттенком, который встречается лишь в исторических месторождениях Кашмира.',
            'craftsmanship': 'Более 300 часов кропотивейшей работы потребовалось для создания этого шедевра. Каждый бриллиант закреплен в индивидуальной оправе, что позволяет свету проходить сквозь камни, создавая неповторимую игру света. Техника закрепки настолько сложна, что во всем мире лишь восемь мастеров владеют ею в совершенстве.',
            'materials': [
                {'name': 'Металл', 'value': 'Белое золото 750 пробы, родированное'},
                {'name': 'Центральный камень', 'value': 'Сапфир Кашмира 15.0 ct, королевский синий'},
                {'name': 'Бриллианты', 'value': '127 камней огранки «маркиз», общий вес 12.7 ct'},
                {'name': 'Происхождение сапфира', 'value': 'Месторождение Падар, Кашмир'},
                {'name': 'Сертификаты', 'value': 'GRS, Gübelin (с указанием «Кашмир»)'},
            ],
            'specifications': [
                {'name': 'Длина колье', 'value': '42 см (регулируется до 45 см)'},
                {'name': 'Вес изделия', 'value': 'около 28.5 г'},
                {'name': 'Застежка', 'value': 'Карабин из платины с системой безопасности'},
                {'name': 'Комплект', 'value': 'Футляр из кожи и дерева, сертификаты камней'},
                {'name': 'Статус', 'value': 'Единственный экземпляр'},
            ],
            'care': [
                'Персональный консультант по уходу за изделием',
                'Бесплатная профессиональная чистка неограниченное количество раз',
                'Ежегодная проверка всех закрепок в нашей мастерской',
                'Страхование изделия в подарок на первый год',
            ],
        },
        4: {
            'id': 4,
            'name': 'Harmonie',
            'category': 'Браслет',
            'image_name': 'harmonie',  # ← Добавлено
            'tagline': 'Ритм изящества',
            'price': 245000,
            'main_description': 'Браслет Harmonie — это воплощение утонченной элегантности и современного дизайна. Розовое золото мягкого оттенка обрамляет россыпь бриллиантов, создавая украшение, которое одинаково прекрасно выглядит как самостоятельный акцент, так и в сочетании с другими изделиями.',
            'story': 'Дизайн вдохновлен музыкальной гаммой — каждый элемент браслета подобен ноте в мелодии, создавая гармоничную композицию на вашем запястье.',
            'craftsmanship': 'Звенья браслета соединены вручную с ювелирной точностью, обеспечивая идеальную подвижность и комфорт при ношении.',
            'materials': [
                {'name': 'Металл', 'value': 'Розовое золото 585 пробы'},
                {'name': 'Камни', 'value': '36 бриллиантов, общий вес 0.72 ct'},
                {'name': 'Огранка', 'value': 'Круглая, 57 граней'},
                {'name': 'Чистота', 'value': 'VS1-VS2'},
            ],
            'specifications': [
                {'name': 'Длина', 'value': '18 см (регулируется)'},
                {'name': 'Ширина', 'value': '4 мм'},
                {'name': 'Вес', 'value': 'около 8.2 г'},
                {'name': 'Застежка', 'value': 'Замок-карабин с восьмеркой'},
            ],
            'care': [
                'Розовое золото не требует родирования',
                'Профилактический осмотр каждые 12 месяцев',
                'Бесплатная замена звеньев при повреждении в первые 3 года',
            ],
        },
        5: {
            'id': 5,
            'name': 'Lumière',
            'category': 'Подвеска',
            'image_name': 'lumiere',  # ← Добавлено
            'tagline': 'Капля света',
            'price': 195000,
            'main_description': 'Подвеска Lumière — это квинтэссенция минимализма и роскоши. Одиночный бриллиант в обрамлении белого золота, словно капля утреннего света, застывшая в совершенной форме.',
            'story': 'Созданная как символ чистоты и простоты, эта подвеска доказывает, что истинная роскошь не нуждается в излишествах.',
            'craftsmanship': 'Оправа спроектирована так, чтобы камень казался парящим в воздухе, позволяя свету проходить через него со всех сторон.',
            'materials': [
                {'name': 'Металл', 'value': 'Белое золото 750 пробы'},
                {'name': 'Центральный камень', 'value': 'Бриллиант 0.8 ct, цвет E, чистота VVS2'},
                {'name': 'Цепь', 'value': 'Венецианское плетение, белое золото 750'},
            ],
            'specifications': [
                {'name': 'Размер подвески', 'value': '8 × 6 мм'},
                {'name': 'Длина цепи', 'value': '45 см (возможна регулировка)'},
                {'name': 'Вес комплекта', 'value': 'около 3.5 г'},
            ],
            'care': [
                'Простота ухода — протирайте мягкой тканью',
                'Бесплатная замена цепи при износе',
            ],
        },
        6: {
            'id': 6,
            'name': 'Impérial',
            'category': 'Кольцо',
            'image_name': 'imperial',  # ← Добавлено
            'tagline': 'Царственное великолепие',
            'price': 890000,
            'main_description': 'Кольцо Impérial — это воплощение императорской роскоши. Бирманский рубин редчайшего оттенка «голубиная кровь» в платиновой оправе с бриллиантами создает украшение, достойное королевских особ.',
            'story': 'Рубин для этого кольца был приобретен на аукционе в Бангкоке и происходит из легендарного месторождения Могок в Мьянме.',
            'craftsmanship': 'Огранка камня выполнена вручную старейшим мастером нашего дома с 60-летним опытом работы с цветными камнями.',
            'materials': [
                {'name': 'Металл', 'value': 'Платина 950 пробы'},
                {'name': 'Центральный камень', 'value': 'Рубин Могок 2.5 ct, «голубиная кровь»'},
                {'name': 'Обрамление', 'value': '32 бриллианта, общий вес 0.85 ct'},
            ],
            'specifications': [
                {'name': 'Размеры', 'value': '15-20 (под заказ)'},
                {'name': 'Ширина шинки', 'value': '3.5 мм'},
                {'name': 'Вес', 'value': 'около 6.8 г'},
            ],
            'care': [
                'Рубины чрезвычайно прочны (9 по шкале Мооса)',
                'Профессиональная чистка включена бесплатно',
            ],
        },
    }
    
    product = products.get(product_id)
    if not product:
        product = products[1]  # По умолчанию первый товар
    
    context = {'product': product}
    return render(request, 'catalog/product_detail.html', context)
def masterpiece_view(request):
    """Страница шедевра коллекции - Céleste"""
    
    masterpiece = {
        'id': 3,
        'name': 'Céleste',
        'category': 'Колье',
        'image_name': 'celeste-featured',  # ← Используем featured-изображение
        'tagline': 'Небесная симфония сапфиров',
        'price': 1250000,
        'is_masterpiece': True,  # ← Флаг для особого отображения
        'main_description': 'Колье Céleste — это венец коллекции Lumière, созданное в единственном экземпляре. Центральный кашмирский сапфир весом 15 карат цвета «королевский синий» обрамлен 127 бриллиантами огранки «маркиз», создающими эффект небесного созвездия.',
        'story': 'Это колье родилось из мечты о создании украшения, которое могло бы стать коронным произведением мастера. Более года ушло на поиски идеального центрального камня — сапфира с редчайшим васильковым оттенком, который встречается лишь в исторических месторождениях Кашмира.',
        'craftsmanship': 'Более 300 часов кропотивейшей работы потребовалось для создания этого шедевра. Каждый бриллиант закреплен в индивидуальной оправе, что позволяет свету проходить сквозь камни, создавая неповторимую игру света. Техника закрепки настолько сложна, что во всем мире лишь восемь мастеров владеют ею в совершенстве.',
        'materials': [
            {'name': 'Металл', 'value': 'Белое золото 750 пробы, родированное'},
            {'name': 'Центральный камень', 'value': 'Сапфир Кашмира 15.0 ct, королевский синий'},
            {'name': 'Бриллианты', 'value': '127 камней огранки «маркиз», общий вес 12.7 ct'},
            {'name': 'Происхождение сапфира', 'value': 'Месторождение Падар, Кашмир'},
            {'name': 'Сертификаты', 'value': 'GRS, Gübelin (с указанием «Кашмир»)'},
        ],
        'specifications': [
            {'name': 'Длина колье', 'value': '42 см (регулируется до 45 см)'},
            {'name': 'Вес изделия', 'value': 'около 28.5 г'},
            {'name': 'Застежка', 'value': 'Карабин из платины с системой безопасности'},
            {'name': 'Комплект', 'value': 'Футляр из кожи и дерева, сертификаты камней'},
            {'name': 'Статус', 'value': 'Единственный экземпляр'},
        ],
        'care': [
            'Персональный консультант по уходу за изделием',
            'Бесплатная профессиональная чистка неограниченное количество раз',
            'Ежегодная проверка всех закрепок в нашей мастерской',
            'Страхование изделия в подарок на первый год',
        ],
    }
    
    return render(request, 'catalog/product_detail.html', {'product': masterpiece})